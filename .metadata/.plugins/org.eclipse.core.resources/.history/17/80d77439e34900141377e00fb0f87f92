package magServer;

class Controller{
	Tablet tab = new Tablet;
	Magazine mag = new Magazine(20);
	public void function rotateMagazine(int num){
		for(i = 0;i<num;i++){
		void mag.rotate();
		void updateTablet();}
		};
	public void function fire(){
		//sends fire signal
		void rotateMagazine(1);
		}
	public void function updateTablet(){ //sends data from magazine to tablet to send
		void tablet.send(String "<list>");
		for (i=0;i<mag.capacity;i++){
			String message = (mag(i).mortar.ID +","+mag(i).mortar.fuze+","mag(i).mortar.gps+","+mag(i).mortar.elev+";");
			tablet.send(message);
			}
		void tablet.send(String "</list>\n");
		}
	public void function updateMortar(Int ID, String fuze, String gps, String elev){  //takes message from Tablet to mortar, then updates actual mortar
		for (i=0;i<mag.capacity;i++){
			if (mag(i).mortar.ID==ID){
				mag(i).mortar.updateSelf(fuze, gps, elev);
				mag(i).mortar.sendSelf();
				}
			}
		}
	}
